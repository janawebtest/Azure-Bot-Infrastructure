# monitor_setup.yml
- name: Setup Azure Monitoring
  hosts: all
  become: yes
  tasks:
    - name: Update system
      apt:
        update_cache: yes
        upgrade: dist

    - name: Install dependencies
      apt:
        name: [ 'unzip', 'python3-pip' ]
        state: present

    - name: Enable Performance Metrics Collection
      shell: |
        # In a real environment, you'd use the az vm extension command here
        echo "Azure Monitor Agent Installation Placeholder"